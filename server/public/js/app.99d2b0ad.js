(function(){"use strict";var e={4172:function(e,t,s){var a=s(9963),o=s(6252);const i={id:"app"};function r(e,t,s,a,r,l){const n=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o.Wm)(n)])}var l={name:"App",components:{}},n=s(3744);const d=(0,n.Z)(l,[["render",r]]);var c=d,u=s(2119);const h={class:"layout"},g={class:"decigo-social-panel",id:"decigo-social-panel"},p={class:"layout-left-side-bar"},m={class:"layout-social site",id:"decigo-page"},v={class:"site-header sticky-top"},f=(0,o._)("hr",null,null,-1),w={class:"site-content",id:"content"},y={class:"container-fluid"},_={class:"row"},b={class:"col-lg-8 col-main"},I={class:"col-lg-4 rightside"};function k(e,t,s,a,i,r){const l=(0,o.up)("left-side-bar"),n=(0,o.up)("nav-bar"),d=(0,o.up)("home-main-content"),c=(0,o.up)("right-side-bar");return(0,o.wg)(),(0,o.iD)("div",h,[(0,o._)("div",g,[(0,o._)("div",p,[(0,o.Wm)(l)])]),(0,o._)("div",m,[(0,o._)("header",v,[(0,o.Wm)(n),f]),(0,o._)("div",w,[(0,o._)("div",y,[(0,o._)("div",_,[(0,o._)("div",b,[(0,o.Wm)(d)]),(0,o._)("div",I,[(0,o.Wm)(c)])])])])])])}var M=s.p+"img/logo_beyaz.0537d8a0.svg";const P={class:"layout-left-side-container"},C={class:"layout-left-side"},$={class:"panel-block dark"},x=(0,o._)("a",{href:"/",class:"panel-logo item"},[(0,o._)("img",{src:M,alt:"Italian Trulli"})],-1),D=(0,o._)("div",{class:"panel-block light"},null,-1);function z(e,t,s,a,i,r){const l=(0,o.up)("loggedin-user-comp"),n=(0,o.up)("register-comp"),d=(0,o.up)("login-comp");return(0,o.wg)(),(0,o.iD)("div",P,[(0,o._)("div",C,[(0,o._)("div",$,[x,i.isLoggedIn?((0,o.wg)(),(0,o.j4)(l,{key:0})):(0,o.kq)("",!0),i.showRegisterComp&&!i.isLoggedIn?((0,o.wg)(),(0,o.j4)(n,{key:1})):(0,o.kq)("",!0),i.showRegisterComp||i.isLoggedIn?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(d,{key:2}))]),D])])}var S=s(3577);(0,o.dD)("data-v-4ff98c59");const U={class:"my-card item"},L=(0,o._)("h4",{class:"form-title"},"Kaydol",-1),A={class:"form-group"},E={class:"user-name"},T=(0,o._)("label",{class:"screen-reader-text"},"İsim & Soyisim",-1),B={class:"form-group"},R={class:"user-name"},H=(0,o._)("label",{class:"screen-reader-text"},"E-Mail",-1),N={class:"form-group"},V={class:"user-name"},O=(0,o._)("label",{class:"screen-reader-text"},"Kullanıcı Adı",-1),K={class:"form-group"},q={class:"pass"},F=(0,o._)("label",{class:"screen-reader-text"},"Şifre",-1),Z={id:"validationServer03Feedback",class:"invalid-feedback"},j=(0,o._)("div",{class:"login-result"},null,-1),G=(0,o._)("div",{class:"submit"},[(0,o._)("button",{type:"submit",id:"login_submit",class:"submit-login",name:"wp-submit"}," Kaydol ")],-1),Y={class:"login-link"},W=(0,o._)("input",{type:"hidden",id:"panel-login-security",name:"panel-login-security",value:"f52122e428"},null,-1),Q=(0,o._)("input",{type:"hidden",name:"_wp_http_referer",value:"hhhhhh"},null,-1);function J(e,t,s,i,r,l){return(0,o.wg)(),(0,o.iD)("div",U,[L,(0,o._)("form",{method:"post",id:"panel-login-form",class:"login-form panel-login",name:"panel-login",onSubmit:t[5]||(t[5]=(0,a.iM)((e=>l.signUp(r.data)),["prevent"]))},[(0,o._)("div",A,[(0,o._)("div",E,[T,(0,o.wy)((0,o._)("input",{type:"text",id:"username",class:"username-control",required:"","onUpdate:modelValue":t[0]||(t[0]=e=>r.data.fullname=e),name:"log",placeholder:"İsim & Soyisim"},null,512),[[a.nr,r.data.fullname]])])]),(0,o._)("div",B,[(0,o._)("div",R,[H,(0,o.wy)((0,o._)("input",{type:"email",id:"username",class:"username-control",required:"",name:"log","onUpdate:modelValue":t[1]||(t[1]=e=>r.data.email=e),placeholder:"E-Mail"},null,512),[[a.nr,r.data.email]])])]),(0,o._)("div",N,[(0,o._)("div",V,[O,(0,o.wy)((0,o._)("input",{type:"text",id:"username",class:"username-control",required:"",name:"log",placeholder:"Kullanıcı Adı","onUpdate:modelValue":t[2]||(t[2]=e=>r.data.username=e)},null,512),[[a.nr,r.data.username]])])]),(0,o._)("div",K,[(0,o._)("div",q,[F,(0,o.wy)((0,o._)("input",{type:"password",id:"password",class:"password-control",required:"",name:"pwd",placeholder:"Şifre","onUpdate:modelValue":t[3]||(t[3]=e=>r.data.password=e)},null,512),[[a.nr,r.data.password]])])]),(0,o._)("div",Z,(0,S.zw)(r.errorMsg),1),j,G,(0,o._)("div",Y,[(0,o._)("button",{type:"button",class:"btn btn-link login-btn",onClick:t[4]||(t[4]=e=>l.goLogin())}," Giriş Yap ")]),W,Q],32)])}(0,o.Cn)();var X={name:"LeftSideBar",props:{msg:String},data(){return{show:!1,errorMsg:"",data:{fullname:"",email:"",password:"",username:""}}},mounted(){this.$store.watch((()=>this.$store.state.registerErrMsg),(()=>{this.errorMsg=this.$store.state.registerErrMsg}))},methods:{goLogin(){this.$store.state.showRegisterComp=!1},signUp(e){var t={Fullname:e.fullname,Email:e.email,Username:e.username,Password:e.password};this.$store.dispatch({type:"setRegister",data:t})}}};const ee=(0,n.Z)(X,[["render",J],["__scopeId","data-v-4ff98c59"]]);var te=ee;(0,o.dD)("data-v-7f9dd6c6");const se={class:"my-card item"},ae=(0,o._)("h4",{class:"form-title"},"Giriş Yap",-1),oe={class:"form-group"},ie={class:"user-name"},re=(0,o.uE)('<label class="screen-reader-text" data-v-7f9dd6c6>Kullanıcı Adı</label><span class="icon" data-v-7f9dd6c6><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16" data-v-7f9dd6c6><path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" data-v-7f9dd6c6></path><path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z" data-v-7f9dd6c6></path></svg></span>',2),le={class:"form-group"},ne={class:"pass"},de=(0,o.uE)('<label class="screen-reader-text" data-v-7f9dd6c6>Şifre</label><span class="icon" data-v-7f9dd6c6><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-key" viewBox="0 0 16 16" data-v-7f9dd6c6><path d="M0 8a4 4 0 0 1 7.465-2H14a.5.5 0 0 1 .354.146l1.5 1.5a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0L13 9.207l-.646.647a.5.5 0 0 1-.708 0L11 9.207l-.646.647a.5.5 0 0 1-.708 0L9 9.207l-.646.647A.5.5 0 0 1 8 10h-.535A4 4 0 0 1 0 8zm4-3a3 3 0 1 0 2.712 4.285A.5.5 0 0 1 7.163 9h.63l.853-.854a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.793-.793-1-1h-6.63a.5.5 0 0 1-.451-.285A3 3 0 0 0 4 5z" data-v-7f9dd6c6></path><path d="M4 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0z" data-v-7f9dd6c6></path></svg></span>',2),ce={key:0,id:"validationServer03Feedback",class:"invalid-feedback"},ue=(0,o._)("div",{class:"login-result"},null,-1),he=(0,o._)("div",{class:"submit"},[(0,o._)("button",{type:"submit",id:"login_submit",class:"submit-login",name:"wp-submit"}," Giriş Yap ")],-1),ge={class:"register-link"},pe=(0,o._)("input",{type:"hidden",id:"panel-login-security",name:"panel-login-security",value:"f52122e428"},null,-1),me=(0,o._)("input",{type:"hidden",name:"_wp_http_referer",value:"hhhhhh"},null,-1);function ve(e,t,s,i,r,l){return(0,o.wg)(),(0,o.iD)("div",se,[ae,(0,o._)("form",{method:"post",id:"panel-login-form",class:"login-form panel-login",name:"panel-login",onSubmit:t[3]||(t[3]=(0,a.iM)((e=>l.login()),["prevent"]))},[(0,o._)("div",oe,[(0,o._)("div",ie,[re,(0,o.wy)((0,o._)("input",{type:"text",id:"username",class:"username-control",required:"",name:"log","onUpdate:modelValue":t[0]||(t[0]=e=>r.emailUsername=e),placeholder:"Kullanıcı Adı"},null,512),[[a.nr,r.emailUsername]])])]),(0,o._)("div",le,[(0,o._)("div",ne,[de,(0,o.wy)((0,o._)("input",{type:"password",id:"password",class:"password-control",required:"",name:"pwd","onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),placeholder:"Şifre"},null,512),[[a.nr,r.password]])])]),r.errorMsg?((0,o.wg)(),(0,o.iD)("div",ce,(0,S.zw)(r.errorMsg),1)):(0,o.kq)("",!0),ue,he,(0,o._)("div",ge,[(0,o._)("button",{type:"button",class:"btn btn-link register-btn",onClick:t[2]||(t[2]=e=>l.goRegister())}," Kaydol ")]),pe,me],32)])}(0,o.Cn)();var fe={name:"LeftSideBar",props:{msg:String},data(){return{emailUsername:"",password:"",errorMsg:""}},mounted(){this.$store.watch((()=>this.$store.state.loginRegisterErrMsg),(()=>{this.$store.state.loginRegisterErrMsg&&(this.errorMsg=this.$store.state.loginRegisterErrMsg)}))},methods:{goRegister(){this.$store.state.showRegisterComp=!0},login(){var e={Username:this.emailUsername,Password:this.password};this.$store.dispatch({type:"setLogin",data:e})}}};const we=(0,n.Z)(fe,[["render",ve],["__scopeId","data-v-7f9dd6c6"]]);var ye=we;(0,o.dD)("data-v-425341c1");const _e={class:"my-card item"},be={class:"info"},Ie={href:"profilepage",class:"home-user-profile"},ke=["src"],Me={class:"profile-name"},Pe={href:"profilepage",class:"name ellipsis"},Ce=(0,o._)("small",null,"Üye",-1),$e={key:0,class:"connections"},xe={class:"count"},De=(0,o._)("p",{class:"mute"},"Anketler",-1);function ze(e,t,s,a,i,r){return(0,o.wg)(),(0,o.iD)("div",_e,[(0,o._)("div",be,[(0,o._)("a",Ie,[(0,o._)("img",{src:"../../assets/avatars/a"+this.avatarno+".png",alt:"Avatar",class:"user-img"},null,8,ke)]),(0,o._)("div",Me,[(0,o._)("a",Pe,(0,S.zw)(i.username),1),Ce])]),i.isAdmin?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("ul",$e,[(0,o._)("li",null,[(0,o._)("span",xe,(0,S.zw)(i.pollsCount),1),De])]))])}(0,o.Cn)();var Se=s(8971),Ue=s.n(Se),Le={name:"LeftSideUser",data(){return{username:"",userInfo:{},avatarno:0,pollsCount:0,isAdmin:!!Ue().get("userInfo")&&Ue().get("userInfo").isAdmin}},mounted(){this.userInfo=Ue().get("userInfo"),this.getUserInfo(),this.$store.dispatch({type:"setMyPolls"}),this.$store.watch((()=>[this.$store.state.loggedinPolls,this.$store.state.updated,this.$store.state.pollAdded]),(async()=>{this.pollsCount=this.$store.state.loggedinPolls.length,console.log("polls count",this.pollsCount)})),this.$store.watch((()=>this.$store.state.pollAdded),(async()=>{this.pollsCount=this.pollsCount+1,console.log("polls count",this.pollsCount)}))},methods:{getUserInfo(){this.username=this.userInfo.username,this.avatarno=this.userInfo.avatarNo,console.log("userInfo",this.userInfo),console.log("avatarno",this.avatarno)}}};const Ae=(0,n.Z)(Le,[["render",ze],["__scopeId","data-v-425341c1"]]);var Ee=Ae,Te={name:"LeftSideBar",props:{msg:String},data(){return{isLoggedIn:!1,showRegisterComp:!1}},components:{"register-comp":te,"login-comp":ye,"loggedin-user-comp":Ee},mounted(){this.showRegisterComp=this.$store.state.showRegisterComp,this.isLoggedIn=this.$store.state.isLoggedIn=localStorage.getItem("isLoggedIn"),this.$store.watch((()=>[this.$store.state.showRegisterComp,this.$store.state.isLoggedIn,this.isLoggedIn]),(()=>{this.showRegisterComp=this.$store.state.showRegisterComp,console.log("showregister",this.showRegisterComp),this.isLoggedIn=this.$store.state.isLoggedIn}))}};const Be=(0,n.Z)(Te,[["render",z]]);var Re=Be;(0,o.dD)("data-v-7160a83f");const He={class:"layout-right-side-bar"},Ne={class:"right-side-content"},Ve={class:"categories"},Oe=(0,o._)("h5",{class:"categories-title"},[(0,o.Uk)(" Kategoriler "),(0,o._)("div",{class:"line"})],-1),Ke={class:"categories-list"},qe=["onClick"],Fe={class:"bottom-nav d-flex"};function Ze(e,t,s,i,r,l){return(0,o.wg)(),(0,o.iD)("div",He,[(0,o._)("div",Ne,[(0,o._)("div",Ve,[Oe,(0,o._)("ul",Ke,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.categories,((e,t)=>((0,o.wg)(),(0,o.iD)("li",{key:t},[(0,o._)("a",{class:"text-list",href:"#",onClick:(0,a.iM)((t=>l.goToCategory(e)),["prevent"])},(0,S.zw)(e),9,qe)])))),128))])]),(0,o._)("div",Fe,[(0,o._)("a",{href:"#",onClick:t[0]||(t[0]=e=>l.aboutUs())},"Hakkımızda")])])])}(0,o.Cn)();var je=s(6455),Ge=s.n(je),Ye={name:"rightSideBar",data(){return{categories:this.$store.state.categoriesList.sort()}},methods:{async goToCategory(e){console.log("category",e),this.$store.dispatch("getSurveyByCategory",e),console.log("await this.$store.state.categorySurveys",this.$store.state.categorySurveys)},aboutUs(){Ge().fire({title:"Nil Güreşçi - Ahmet Sait Çalışır",html:'Manisa Celal Bayar Üniversitesi yazılım mühendisliği son sınıf öğrencileriyiz.<br><a href="https://github.com/nilguresci">Nil Güreşçi - Github</a> <a href="https://github.com/AhmetSaitCalisir">Ahmet Sait Çalışır - Github</a> ',width:600,padding:"3em",color:"#716add",background:"#fff",backdrop:'\n    rgba(0,0,123,0.4)\n    url("../assets/nyan-cat.gif")\n    left top\n    no-repeat\n  ',confirmButtonText:'<i class="fa fa-thumbs-up"></i> Teşekkürler!'})}}};const We=(0,n.Z)(Ye,[["render",Ze],["__scopeId","data-v-7160a83f"]]);var Qe=We;(0,o.dD)("data-v-fe24ef9c");const Je={class:"navbar decigo-navbar social fixed-top"},Xe={class:"container"},et={key:0,id:"decigo-search",class:"decigo-search"},tt={id:"search-form",class:""},st={class:"search-field container"},at=(0,o._)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"},null,-1),ot=[at],it={id:"navbar-user",class:"navbar-nav navbar-user"},rt={class:"nav-item"},lt={href:"/profilepage",id:"nav-user",class:"nav-link login","data-toggle":"modal","data-target":"#login-modal"},nt=["src"],dt={class:"user-name"},ct=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-box-arrow-right",viewBox:"0 0 16 16"},[(0,o._)("path",{"fill-rule":"evenodd",d:"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"}),(0,o._)("path",{"fill-rule":"evenodd",d:"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"})],-1),ut=[ct],ht={id:"navbar-user",class:"navbar-nav navbar-user"};function gt(e,t,s,i,r,l){return(0,o.wg)(),(0,o.iD)("nav",Je,[(0,o._)("div",Xe,[r.isAdmin?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",et,[(0,o._)("div",tt,[(0,o._)("div",st,[((0,o.wg)(),(0,o.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-search searchbtn",viewBox:"0 0 16 16",onClick:t[0]||(t[0]=e=>l.search())},ot)),(0,o.wy)((0,o._)("input",{type:"text",id:"form1",placeholder:"Kategori arayın","aria-label":"Search","onUpdate:modelValue":t[1]||(t[1]=e=>r.searchText=e),onKeyup:t[2]||(t[2]=(0,a.D2)((e=>l.search()),["enter"]))},null,544),[[a.nr,r.searchText]])])])])),(0,o.wy)((0,o._)("ul",it,[(0,o._)("li",rt,[(0,o._)("a",lt,[(0,o._)("img",{src:"../../assets/avatars/a"+this.avatarno+".png",alt:""},null,8,nt),(0,o._)("span",dt,"@"+(0,S.zw)(r.username),1)])]),(0,o._)("li",null,[(0,o._)("button",{type:"button",class:"btn btn-light",onClick:t[3]||(t[3]=e=>l.logout())},ut)])],512),[[a.F8,r.isLoggedIn]]),(0,o.wy)((0,o._)("ul",ht," Decigo.com ",512),[[a.F8,!r.isLoggedIn]])])])}(0,o.Cn)();var pt={name:"navbar",props:{msg:String},data(){return{isLoggedIn:!1,username:"",avatarno:0,searchText:"",isAdmin:!!Ue().get("userInfo")&&Ue().get("userInfo").isAdmin}},mounted(){this.isLoggedIn=!!localStorage.getItem("isLoggedIn")&&(this.isLoggedIn=localStorage.getItem("isLoggedIn")),this.$store.watch((()=>this.$store.state.isLoggedIn),(()=>{this.isLoggedIn=this.$store.state.isLoggedIn})),this.isLoggedIn&&(this.username=Ue().get("userInfo").username?Ue().get("userInfo").username:"",this.avatarno=Ue().get("userInfo").avatarNo?Ue().get("userInfo").avatarNo:0),this.$store.watch((()=>this.isLoggedIn),(()=>{this.isLoggedIn&&(this.username=Ue().get("userInfo").username?Ue().get("userInfo").username:"",this.avatarno=Ue().get("userInfo").avatarNo?Ue().get("userInfo").avatarNo:0)}))},methods:{logout(){Ai.push({name:"Home"}),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userInfo"),this.$store.state.isLoggedIn=!1,Ue().removeItem("userInfo"),Ue().removeItem("token"),this.avatarno=0},search(){console.log(this.searchText),this.searchText.length<1?alert("Arayacak olduğunuz kategoriyi yazınız lütfen"):(console.log(this.searchText),this.$store.dispatch("getSurveyByCategory",this.searchText))}}};const mt=(0,n.Z)(pt,[["render",gt],["__scopeId","data-v-fe24ef9c"]]);var vt=mt;(0,o.dD)("data-v-d1bf0a94");const ft={id:"main"},wt={class:"activity-update-form"},yt={class:"create-survey-input"},_t=(0,o._)("div",{class:"d-flex h-first"},[(0,o._)("div",{class:"main-cont-header"},[(0,o._)("div",{class:"h-item"},"Anketler")])],-1),bt={class:"main-content"},It={class:"survey-list"},kt={class:"survey-avatar"},Mt={href:"#"},Pt=["src"],Ct={class:"post-content"},$t={class:"post-header"},xt={class:"posted-meta"},Dt={href:"#user"},zt=(0,o.Uk)(" bir anket paylaştı "),St={class:"dropdown"},Ut=(0,o._)("button",{class:"three-dot dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-three-dots",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"})])],-1),Lt={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},At=["onClick"],Et=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",fill:"currentColor",class:"bi bi-share",viewBox:"0 0 20 20"},[(0,o._)("path",{d:"M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"})],-1),Tt=(0,o.Uk)(" Paylaş "),Bt=[Et,Tt],Rt=["onClick"],Ht=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",fill:"currentColor",class:"bi bi-exclamation-triangle",viewBox:"0 0 20 20"},[(0,o._)("path",{d:"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"}),(0,o._)("path",{d:"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"})],-1),Nt=(0,o.Uk)(" Raporla "),Vt=[Ht,Nt],Ot={class:"mute"},Kt=["id"],qt={class:"question"},Ft={class:"answers-area"},Zt=["onClick","id"],jt={class:"mute vote-count"},Gt=(0,o._)("div",null,[(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-dot",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"})])],-1),Yt=["id"];function Wt(e,t,s,i,r,l){const n=(0,o.up)("add-survey-component");return(0,o.wg)(),(0,o.iD)("div",ft,[(0,o.wy)((0,o._)("div",wt,[(0,o._)("div",yt,[(0,o.Wm)(n)])],512),[[a.F8,r.add]]),_t,(0,o._)("div",bt,[(0,o._)("ul",It,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.polls,((t,s)=>((0,o.wg)(),(0,o.iD)("li",{class:"survey-item",key:s},[(0,o._)("div",kt,[(0,o._)("a",Mt,[(0,o._)("img",{loading:"lazy",src:"../../assets/avatars/a"+t.User.AvatarNo+".png",class:"avatar",width:"200",height:"200",alt:"Profile picture of user"},null,8,Pt)])]),(0,o._)("div",Ct,[(0,o._)("div",$t,[(0,o._)("div",xt,[(0,o._)("p",null,[(0,o._)("a",Dt,(0,S.zw)(t.User.Fullname),1),zt]),(0,o._)("div",St,[Ut,(0,o._)("ul",Lt,[(0,o._)("li",null,[(0,o._)("a",{class:"dropdown-item",href:"#",onClick:(0,a.iM)((e=>l.share(t._id)),["prevent"])},Bt,8,At)]),(0,o._)("li",null,[(0,o._)("a",{class:"dropdown-item",href:"#",onClick:(0,a.iM)((e=>l.report(t._id)),["prevent"])},Vt,8,Rt)])])])]),(0,o._)("div",Ot,[(0,o._)("div",null,(0,S.zw)(new Date(t.CreationDate).toLocaleDateString()+" "+new Date(t.CreationDate).toLocaleTimeString()+" "),1)])]),(0,o._)("div",{class:"poll",id:t._id},[(0,o._)("div",qt,(0,S.zw)(t.Question),1),(0,o._)("div",Ft,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.Options,(s=>((0,o.wg)(),(0,o.iD)("div",{class:"answers",key:s},[(0,o._)("div",{class:"answer",onClick:e=>l.markAnswer(s._id,t),id:e.option_id},[(0,o.Uk)((0,S.zw)(s.Text)+" ",1),(0,o._)("span",{class:(0,S.C_)(["pb",[l.isJoinable(t)?"hide":"percentage-bar"]]),id:"pb",style:(0,S.j5)({width:l.optionRatio(s,t)+"%"})},null,6),(0,o._)("span",{class:(0,S.C_)(["pv",[l.isJoinable(t)?"hide":"percentage-value"]]),id:"pv"},"%"+(0,S.zw)(l.optionRatio(s,t).toFixed(1)),3)],8,Zt)])))),128))]),(0,o._)("div",jt,[(0,o.Uk)((0,S.zw)(l.totalPaticipants(t))+" oy ",1),Gt,(0,o._)("span",{id:"TimeLeft"+t._id},"Kalan Zaman",8,Yt)])],8,Kt)])])))),128))])])])}(0,o.Cn)(),(0,o.dD)("data-v-9713c0c2");const Qt={class:"container"},Jt={class:"row"},Xt={class:"col-2",style:{"padding-left":"8px"}},es=["src"],ts={class:"col",style:{"padding-left":"0"}},ss={key:0},as={class:"add-survey-body d-flex"},os={class:"survey-i-cont-left d-flex"},is={class:"input-group mb-3"},rs=["onUpdate:modelValue"],ls=["onClick"],ns=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,o._)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,o._)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1),ds=[ns],cs={key:0,style:{"align-self":"end"},class:"add-option-btn"},us={class:"col"},hs=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-plus",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})],-1),gs=[hs],ps={class:"row add-survey-footer"},ms={class:"col"},vs=["value"],fs={class:"col"},ws={class:"col post-survey"};function ys(e,t,s,i,r,l){return(0,o.wg)(),(0,o.iD)("div",Qt,[(0,o._)("div",Jt,[(0,o._)("div",Xt,[(0,o._)("img",{loading:"lazy",src:"../../assets/avatars/a"+this.avatarno+".png",class:"avatar",width:"200",height:"200",alt:"Profile picture of user"},null,8,es)]),(0,o._)("div",ts,[(0,o.wy)((0,o._)("textarea",{id:"surveyInput",class:(0,S.C_)({input_survey_deactive:!e.x,input_survey_active:e.x}),type:"text",placeholder:"Bir soru sor...","onUpdate:modelValue":t[0]||(t[0]=e=>r.surveyQuestion=e),onChange:t[1]||(t[1]=e=>l.change()),onKeypress:t[2]||(t[2]=e=>l.change())},null,34),[[a.nr,r.surveyQuestion]])])]),r.surveyQuestion||!0===r.onProfilePage?((0,o.wg)(),(0,o.iD)("div",ss,[(0,o._)("div",as,[(0,o._)("div",os,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.options,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"d-flex survey-body-input",key:t},[(0,o._)("div",is,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control option",placeholder:"Seçenek","aria-label":"Option 1","onUpdate:modelValue":t=>e.text=t},null,8,rs),[[a.nr,e.text]]),r.optionCount>2?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"btn option-button delete",type:"button",onClick:t=>l.deleteOption(e.id)},ds,8,ls)):(0,o.kq)("",!0)])])))),128))]),r.optionCount<5?((0,o.wg)(),(0,o.iD)("div",cs,[(0,o._)("div",us,[(0,o._)("button",{class:"btn option-button float-end",type:"button",id:"button-addon2",onClick:t[3]||(t[3]=(...e)=>l.addOption&&l.addOption(...e))},gs)])])):(0,o.kq)("",!0)]),(0,o._)("div",ps,[(0,o._)("div",ms,[(0,o.wy)((0,o._)("select",{class:"form-select form-select-sm kategori","aria-label":".form-select-sm example","onUpdate:modelValue":t[4]||(t[4]=e=>r.category=e)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.categories,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:t,value:e},(0,S.zw)(e),9,vs)))),128))],512),[[a.bM,r.category]])]),(0,o._)("div",fs,[(0,o.wy)((0,o._)("input",{class:"form-control kategori",type:"time","aria-label":".form-control-sm example","onUpdate:modelValue":t[5]||(t[5]=e=>r.expiryDate=e)},null,512),[[a.nr,r.expiryDate]])]),(0,o._)("div",ws,[(0,o._)("input",{type:"submit",id:"survey-submit",class:"survey-submit",value:"Anket Paylaş",onClick:t[6]||(t[6]=e=>l.create())})])])])):(0,o.kq)("",!0)])}(0,o.Cn)();var _s={name:"add-survey",components:{},data(){return{surveyQuestion:"",optionCount:2,options:[{text:"",id:1},{text:"",id:2}],expiryDate:"00:01",category:"",avatarno:0,onProfilePage:!1,categories:this.$store.state.categoriesList.sort()}},mounted(){this.avatarno=Ue().get("userInfo")?Ue().get("userInfo").avatarNo:0,this.$store.watch((()=>this.$store.state.newPool),(async()=>{this.surveyQuestion})),this.$store.state.onProfilePage?this.onProfilePage=!0:this.onProfilePage=!1,this.$store.watch((()=>this.$store.state.onProfilePage),(()=>{this.$store.state.onProfilePage?this.onProfilePage=!0:this.onProfilePage=!1})),this.$store.watch((()=>this.$store.state.isLoggedIn),(()=>{this.$store.state.isLoggedIn?this.avatarno=Ue().get("userInfo").avatarNo?Ue().get("userInfo").avatarNo:0:this.avatarno=0})),this.$store.watch((()=>this.$store.state.pollAdded),(()=>{this.showSuccesAlert(),this.surveyQuestion="",this.options=[{text:"",id:1},{text:"",id:2}],this.expiryDate="00:01",this.optionCount=2,this.category=""}))},methods:{addOption(){this.optionCount=this.options.length,this.options.push({text:"",id:this.optionCount+1}),this.optionCount=this.options.length},deleteOption(e){this.options=this.options.filter((t=>t.id!==e)),this.optionCount=this.options.length},change(){""===this.surveyQuestion&&(this.options=[{text:"",id:1},{text:"",id:2}],this.expiryDate="00:01",this.optionCount=2)},create(){const e=this.checkForm();if(e.err)Ge().fire({icon:"error",title:"Lütfen tüm alanları doldurduğunuzdan emin olun!",showConfirmButton:!1,timer:1500});else{const e=this.options.map((e=>({Text:e.text})));console.log(e),console.log(this.surveyQuestion);const t=this.expiryDate.split(":"),s=Date.now()+(36e5*t[0]+6e4*t[1]);console.log(this.category),this.$store.dispatch("createPool",{Question:this.surveyQuestion,Time:s,Options:e,Category:this.category})}},checkForm(){let e={err:!1,msg:[]};return this.surveyQuestion.length<3&&(e={err:!0,msg:[...e.msg,"Anket sorusu 3 karakterden kısa olamaz"]}),this.optionCount<2&&(e={err:!0,msg:[...e.msg,"En az iki seçenek olduğundan emin olun"]}),"00:00"===this.expiryDate&&(e={err:!0,msg:[...e.msg,"Anket süresi 0 dk olamaz"]}),this.options.forEach(((t,s)=>{t.text.length<3&&(e={err:!0,msg:[...e.msg,`${s+1} numarali seçenek fazla kısa veya boş`]})})),this.category.length<1&&(e={err:!0,msg:[...e.msg,"Lütfen kategori seçiniz"]}),e},showSuccesAlert(){Ge().fire({icon:"success",title:"Anket başarılı bir şekilde paylaşıldı.",showConfirmButton:!1,timer:1500})}}};const bs=(0,n.Z)(_s,[["render",ys],["__scopeId","data-v-9713c0c2"]]);var Is=bs,ks={name:"HomeMainContent",data(){return{pollCount:20,answersWeight:[40,40,20,100],selectedAnswer:-1,add:!!localStorage.getItem("isLoggedIn")&&localStorage.getItem("isLoggedIn"),polls:[],avatarno:0,timeLeft:{},getSpecificPollFirst:"",successMsg:""}},components:{"add-survey-component":Is},mounted(){this.$store.dispatch({type:"setUsers"}),this.getPolls(),this.getIdFromUrl(),this.$store.watch((()=>this.$store.state.polls),(()=>{console.log(this.getSpecificPollFirst),!0===this.getSpecificPollFirst?this.filteredListById(this.getSpecificPollFirst):(this.polls=this.$store.state.polls,this.polls.forEach((e=>{this.calculateTime(e.Time,e._id)})))})),this.$store.watch((()=>this.$store.state.updated),(async()=>{this.polls=this.$store.state.polls,this.polls.forEach((e=>{this.calculateTime(e.Time,e._id)}))})),this.$store.watch((()=>this.$store.state.getPollsByCategory),(async()=>{this.polls=this.$store.state.categorySurveys,console.log("gelen",this.polls),this.polls.forEach((e=>{this.calculateTime(e.Time,e._id)}))})),this.$store.watch((()=>[this.$store.state.updated,this.$store.state.newPool,this.$store.state.isLoggedIn]),(async()=>{this.getPolls()})),this.$store.watch((()=>this.$store.state.isLoggedIn),(()=>{this.add=localStorage.getItem("isLoggedIn")})),this.$store.watch((()=>this.$store.state.successMsg),(()=>{this.$store.state.successMsg&&(this.successMsg=this.$store.state.successMsg,Ge().fire({icon:"success",title:this.successMsg,showConfirmButton:!1,timer:1500}),setTimeout((()=>{this.$store.state.successMsg=""}),2e3))}))},methods:{markAnswer(e,t){if(this.isJoinable(t)){this.polls.forEach((s=>{s._id==t._id&&s.Options.forEach((t=>{t._id===e&&t.Participants.push({_id:1e8*Math.random(),UserId:Ue().get("userInfo").userId})}))}));var s={SurveyId:t._id,OptionId:e,UserId:Ue().get("userInfo").userId};this.$store.dispatch("joinPoll",{data:s}),this.getPolls()}else this.$store.state.errorMsg="Bu ankete katılınamıyor."},getPolls(){this.$store.dispatch({type:"setPolls"}),this.polls=this.$store.state.polls,this.polls.forEach((e=>{this.calculateTime(e.Time,e._id)}))},share(e){navigator.clipboard.writeText(e);let t="https://decigo.herokuapp.com/",s=new URL(t),a="https://decigo.herokuapp.com/"+e,o=new URL(a,s);navigator.clipboard.writeText(o.href),Ge().fire({icon:"success",title:"Anket linkini kopyaladınız.",showConfirmButton:!1,timer:1500})},getIdFromUrl(){var e=window.location.pathname,t=e.substring(e.lastIndexOf("/")+1);t&&(this.getSpecificPollFirst=t)},filteredListById(e){var t=[];this.polls=this.$store.state.polls,this.polls.forEach((e=>{this.calculateTime(e.Time,e._id)})),t=this.polls.filter((t=>t._id!==e));var s=this.polls.filter((t=>t._id===e));s.length>0?(t.unshift(s[0]),console.log("first poll",s[0]),this.polls=t):(console.log("böyle bir şey yok"),this.$store.state.errorMsg="Böyle bir anket yok veya silinmiş.",setTimeout((()=>{Ai.push({name:"Home"})}),2e3))},report(e){this.$store.dispatch("reportSurvey",e)},totalPaticipants(e){let t=0;return e.Options.forEach((e=>{t+=e.Participants.length})),t},optionRatio(e,t){const s=e.Participants.length;if(0===s)return 0;const a=this.totalPaticipants(t);return 100*s/a},isJoinable(e){if(void 0===Ue().get("userInfo")||void 0===Ue().get("userInfo").userId||e.End)return!1;if(e.UserId==Ue().get("userInfo").userId)return!1;let t=!0;const s=Ue().get("userInfo").userId;return e.Options.forEach((e=>{e.Participants.length>0&&e.Participants.forEach((e=>{e.UserId===s&&(t=!1)}))})),t},calculateTime(e,t){const s=new Date(e).getTime(),a=setInterval((()=>{const e=(new Date).getTime(),o=s-e,i=Math.floor(o%864e5/36e5),r=Math.floor(o%36e5/6e4),l=Math.floor(o%6e4/1e3);try{document.getElementById(`TimeLeft${t}`).innerHTML=i.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+":"+r.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+":"+l.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o<0&&(clearInterval(a),document.getElementById(`TimeLeft${t}`).innerHTML="Anket Sonuçlandı",this.polls.map((e=>{e._id==t&&(e.End=!0)})))}catch{}}),1e3)}}};const Ms=(0,n.Z)(ks,[["render",Wt],["__scopeId","data-v-d1bf0a94"]]);var Ps=Ms,Cs={name:"Home",data(){return{errorMsg:""}},components:{"left-side-bar":Re,"right-side-bar":Qe,"nav-bar":vt,"home-main-content":Ps},mounted(){this.$store.dispatch({type:"setPolls"}),this.$store.watch((()=>this.$store.state.errorMsg),(()=>{this.$store.state.errorMsg&&(this.errorMsg=this.$store.state.errorMsg,Ge().fire({icon:"error",title:this.errorMsg,showConfirmButton:!1,timer:1500}),setTimeout((()=>{this.$store.state.errorMsg=""}),2e3))}))}};const $s=(0,n.Z)(Cs,[["render",k]]);var xs=$s;const Ds={class:"noScroll"};function zs(e,t,s,a,i,r){const l=(0,o.up)("cover-image-comp"),n=(0,o.up)("page-content-comp");return(0,o.wg)(),(0,o.iD)("div",Ds,[(0,o.Wm)(l),(0,o.Wm)(n)])}const Ss={id:"cover-image-cont"},Us={class:"cover-nav"},Ls=(0,o._)("a",{href:"/"},[(0,o._)("img",{src:M,style:{width:"90%","max-height":"114px"},alt:"home"})],-1),As={class:"d-flex"},Es={href:"#",id:"nav-user",class:"nav-link login",role:"button","aria-expanded":"false"},Ts=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-box-arrow-right",viewBox:"0 0 16 16"},[(0,o._)("path",{"fill-rule":"evenodd",d:"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"}),(0,o._)("path",{"fill-rule":"evenodd",d:"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"})],-1),Bs=[Ts],Rs={id:"item-profile-avatar"},Hs={class:"item-avatar"},Ns={href:"#homepagefalan"},Vs=["src"],Os={class:"profile-name"},Ks={class:"user-nickname"};function qs(e,t,s,a,i,r){return(0,o.wg)(),(0,o.iD)("div",Ss,[(0,o._)("nav",Us,[Ls,(0,o._)("div",As,[(0,o._)("a",Es,(0,S.zw)(i.username),1),(0,o._)("button",{type:"button",class:"btn btn-light",onClick:t[0]||(t[0]=e=>r.logout())},Bs)])]),(0,o._)("div",Rs,[(0,o._)("div",Hs,[(0,o._)("a",Ns,[(0,o._)("img",{loading:"lazy",src:"../../assets/avatars/a"+this.avatarno+".png",class:"user-avatar",alt:"Profile picture of John Doe"},null,8,Vs)])]),(0,o._)("div",Os,[(0,o._)("h2",Ks,"@"+(0,S.zw)(i.username),1)])])])}var Fs={name:"profileCoverComp",data(){return{fullname:"",username:"",avatarno:0,userInfo:{},id:""}},mounted(){this.id=Ue().get("userInfo").userId,console.log("this.id",this.id),this.getUserInfo(),this.$store.watch((()=>this.$store.state.userInfoUpdated),(async()=>{this.getUserInfo()})),this.$store.watch((()=>this.$store.state.loggedInUserInfo),(()=>{this.userInfo=Ue().get("userInfo"),console.log("userinfo cover içinde",this.userInfo),this.username=this.userInfo.username,this.avatarno=this.userInfo.avatarNo,this.fullname=this.userInfo.fullName}))},methods:{getUserInfo(){var e=this.id;this.$store.dispatch("setUserInfo",e)},logout(){Ai.push({name:"Home"}),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userInfo"),this.$store.state.isLoggedIn=!1,Ue().removeItem("userInfo"),Ue().removeItem("token"),this.avatarno=0}}};const Zs=(0,n.Z)(Fs,[["render",qs]]);var js=Zs;(0,o.dD)("data-v-5fbd57a3");const Gs={class:"page-content"},Ys={class:"d-flex",style:{width:"100%"}},Ws={class:"content-nav"},Qs={class:"col-3 d-flex",style:{"align-self":"end"}},Js=(0,o._)("div",{class:"bosluk",style:{width:"50%"}},null,-1),Xs={class:"d-flex",style:{width:"50%"}},ea={class:"tabs col-9"},ta={class:"profile-nav"},sa=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-subtract",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M0 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-2H2a2 2 0 0 1-2-2V2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H2z"})],-1),aa={class:""},oa=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-person-workspace",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M4 16s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H4Zm4-5.95a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"}),(0,o._)("path",{d:"M2 1a2 2 0 0 0-2 2v9.5A1.5 1.5 0 0 0 1.5 14h.653a5.373 5.373 0 0 1 1.066-2H1V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v9h-2.219c.554.654.89 1.373 1.066 2h.653a1.5 1.5 0 0 0 1.5-1.5V3a2 2 0 0 0-2-2H2Z"})],-1),ia={class:""},ra=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-plus-square",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),(0,o._)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})],-1),la={class:""},na={class:"page-body d-flex"},da={class:"col-3 body-left"},ca={class:"b-left"},ua={class:"connections"},ha={class:"count"},ga=(0,o._)("p",{class:"mute"},"Anketler",-1),pa={key:0,class:"col-6 body-main d-flex"},ma=(0,o._)("nav",null,[(0,o._)("ul",null,[(0,o._)("li",null,"Anketlerim")])],-1),va={key:0,class:"nopollmsg"},fa={class:"poll-cont"},wa=["id"],ya={class:"poll-header"},_a={class:"question"},ba={class:"dropdown"},Ia=(0,o._)("button",{class:"three-dot dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-three-dots",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"})])],-1),ka={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},Ma=["onClick"],Pa=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",fill:"currentColor",class:"bi bi-share",viewBox:"0 0 20 20"},[(0,o._)("path",{d:"M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"})],-1),Ca=(0,o.Uk)(" Paylaş "),$a=[Pa,Ca],xa=["onClick"],Da=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",fill:"currentColor",class:"bi bi-exclamation-triangle",viewBox:"0 0 20 20"},[(0,o._)("path",{d:"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"}),(0,o._)("path",{d:"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"})],-1),za=(0,o.Uk)(" Sil "),Sa=[Da,za],Ua=["onClick"],La=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",fill:"currentColor",class:"bi bi-exclamation-triangle",viewBox:"0 0 20 20"},[(0,o._)("path",{d:"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"}),(0,o._)("path",{d:"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"})],-1),Aa=(0,o.Uk)(" Düzenle "),Ea=[La,Aa],Ta={class:"mute"},Ba={class:"answers-area"},Ra=["id"],Ha={class:"pv percentage-value",id:"pv"},Na={class:"poll-footer"},Va={class:"mute vote-count"},Oa={class:""},Ka=(0,o._)("div",null,[(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-dot",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"})])],-1),qa=["id"],Fa={key:0,class:"save-update"},Za={class:"upt-input"},ja=["onClick"],Ga={key:2,class:"col-6 body-main"},Ya=(0,o._)("nav",null,[(0,o._)("ul",null,[(0,o._)("li",null,"Anket Paylaş")])],-1),Wa=(0,o._)("div",{class:"col-3 body-right"},null,-1);function Qa(e,t,s,i,r,l){const n=(0,o.up)("profile-edit-view-comp"),d=(0,o.up)("add-survey-comp");return(0,o.wg)(),(0,o.iD)("div",Gs,[(0,o._)("nav",Ys,[(0,o._)("div",Ws,[(0,o._)("div",Qs,[Js,(0,o._)("h3",Xs,(0,S.zw)(r.fullName),1)]),(0,o._)("div",ea,[(0,o._)("ul",ta,[(0,o._)("button",{type:"button",class:(0,S.C_)(["btn btn-light",[r.activity.value?"":"nothere"]]),onClick:t[0]||(t[0]=e=>l.changetab(r.activity.id))},[sa,(0,o.wy)((0,o._)("span",aa,"Ana Sayfam",512),[[a.F8,!r.activity.value]])],2),(0,o._)("button",{type:"button",class:(0,S.C_)(["btn btn-light",[r.profile.value?"":"nothere"]]),onClick:t[1]||(t[1]=e=>l.changetab(r.profile.id))},[oa,(0,o.wy)((0,o._)("span",ia,"Profilim",512),[[a.F8,!r.profile.value]])],2),(0,o._)("button",{type:"button",class:(0,S.C_)(["btn btn-light",[r.addPoll.value?"":"nothere"]]),onClick:t[2]||(t[2]=e=>l.changetab(r.addPoll.id))},[ra,(0,o.wy)((0,o._)("span",la,"Anket Oluştur",512),[[a.F8,!r.addPoll.value]])],2)])])])]),(0,o._)("div",na,[(0,o._)("div",da,[(0,o._)("div",ca,[(0,o._)("ul",ua,[(0,o._)("li",null,[(0,o._)("span",ha,(0,S.zw)(r.pollsCount),1),ga])])])]),r.activity.value?((0,o.wg)(),(0,o.iD)("div",pa,[ma,r.nopoll?((0,o.wg)(),(0,o.iD)("div",va,[(0,o._)("h6",null,(0,S.zw)(r.noPollErrMsg),1)])):(0,o.kq)("",!0),(0,o._)("div",fa,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.polls,((e,s)=>((0,o.wg)(),(0,o.iD)("div",{class:"poll",id:"index"+s,key:s},[(0,o._)("div",ya,[(0,o._)("div",_a,(0,S.zw)(e.question),1),(0,o._)("div",ba,[Ia,(0,o._)("ul",ka,[(0,o._)("li",null,[(0,o._)("a",{class:"dropdown-item",href:"#",onClick:(0,a.iM)((t=>l.share(e.id)),["prevent"])},$a,8,Ma)]),(0,o._)("li",null,[(0,o._)("a",{class:"dropdown-item",href:"#",onClick:(0,a.iM)((t=>l.deleteMyPoll(e.id)),["prevent"])},Sa,8,xa)]),(0,o._)("li",null,[(0,o._)("a",{class:"dropdown-item",href:"#",onClick:(0,a.iM)((t=>l.editPoll(e.id)),["prevent"])},Ea,8,Ua)])])])]),(0,o._)("div",Ta,(0,S.zw)(new Date(e.creationDate).toLocaleDateString()+" "+new Date(e.creationDate).toLocaleTimeString()),1),(0,o._)("div",Ba,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.options,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"answers",key:e},[(0,o._)("div",{class:"answer",id:e.id},[(0,o.Uk)((0,S.zw)(e.text)+" ",1),(0,o._)("span",{class:"pb percentage-bar",id:"pb",style:(0,S.j5)({width:e.ratio+"%"})},null,4),(0,o._)("span",Ha,(0,S.zw)(e.ratio)+"%",1)],8,Ra)])))),128))]),(0,o._)("div",Na,[(0,o._)("div",Va,[(0,o._)("div",Oa,(0,S.zw)(e.totalParticipants)+" oy",1),Ka,(0,o._)("span",{id:"TimeLeft"+e.id}," Kalan Tarih",8,qa)]),r.editpoll===e.id?((0,o.wg)(),(0,o.iD)("div",Fa,[(0,o._)("div",Za,[(0,o.wy)((0,o._)("input",{class:"form-control time-select",type:"time","aria-label":".form-control-sm example","onUpdate:modelValue":t[3]||(t[3]=e=>r.expiryDate=e)},null,512),[[a.nr,r.expiryDate]])]),(0,o._)("button",{type:"button",class:"btn",onClick:t=>l.updateInfo(e)}," Kaydet ",8,ja)])):(0,o.kq)("",!0)])],8,wa)))),128))])])):(0,o.kq)("",!0),r.profile.value?((0,o.wg)(),(0,o.j4)(n,{key:1})):(0,o.kq)("",!0),r.addPoll.value?((0,o.wg)(),(0,o.iD)("div",Ga,[Ya,(0,o.Wm)(d)])):(0,o.kq)("",!0),Wa])])}(0,o.Cn)(),(0,o.dD)("data-v-55d2fa64");const Ja={class:"col-6 body-main d-flex"},Xa=(0,o._)("nav",null,[(0,o._)("ul",null,[(0,o._)("li",null,"Profil")])],-1),eo={class:"profile"},to=(0,o._)("div",{class:"p-heading"},[(0,o._)("h3",{class:"heading"},"Profil Bilgilerin")],-1),so={class:"content"},ao={class:"mb-3 d-flex content-d"},oo=(0,o._)("label",{class:"form-label edit"},"Avatarını değiştir",-1),io=["onClick"],ro=["src"],lo={class:"mb-3 d-flex content-d"},no=(0,o._)("label",{for:"formGroupExampleInput1",class:"form-label edit"},"Adın Soyadın",-1),co={class:"mb-3 d-flex content-d"},uo=(0,o._)("label",{for:"formGroupExampleInput",class:"form-label edit"},"Kullanıcı Adın",-1),ho={class:"mb-3 d-flex content-d"},go=(0,o._)("label",{for:"inputEmail4",class:"form-label edit"},"E-posta adresin",-1),po={class:"change-pass"},mo=(0,o._)("button",{type:"button",class:"btn","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}," Şifreni değiştir ",-1),vo={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},fo={class:"modal-dialog modal-dialog-centered"},wo={class:"modal-content"},yo=(0,o._)("div",{class:"modal-header"},[(0,o._)("h6",{class:"modal-title",id:"exampleModalLabel"}," Şifreni Değiştir "),(0,o._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_o={class:"modal-body change-pass-modal"},bo={class:"row change-pass-item"},Io=(0,o._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label"},"Şifre",-1),ko={class:"col-sm-10 ch-p-input"},Mo={class:"row change-pass-item"},Po=(0,o._)("label",{for:"inputnewPassword",class:"col-sm-2 col-form-label"},"Yeni Şifre",-1),Co={class:"col-sm-10 ch-p-input"},$o={class:"row change-pass-item"},xo=(0,o._)("label",{for:"inputnewPassword2",class:"col-sm-2 col-form-label"},"Yeni Şifre Tekrar",-1),Do={class:"col-sm-10 ch-p-input"},zo={key:0,class:"row change-pass-item"},So={class:"alert alert-danger",role:"alert"},Uo={class:"modal-footer save-pass"},Lo={key:0,class:"save-update"};function Ao(e,t,s,i,r,l){return(0,o.wg)(),(0,o.iD)("div",Ja,[Xa,(0,o._)("div",eo,[to,(0,o._)("div",so,[(0,o._)("div",ao,[oo,(0,o._)("div",{onClick:t[0]||(t[0]=e=>l.change()),style:{width:"82%"}},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.avatarIds,((e,t)=>((0,o.wg)(),(0,o.iD)("button",{type:"button",class:"btn",key:t,onClick:t=>l.chooseAvatar(e)},[(0,o._)("img",{src:"../../assets/avatars/a"+e+".png",class:"img-thumbnail rounded",alt:"...",style:{width:"70px",height:"70px"}},null,8,ro)],8,io)))),128))])]),(0,o._)("div",lo,[no,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control edit-input",id:"formGroupExampleInput1",placeholder:"Example input placeholder","onUpdate:modelValue":t[1]||(t[1]=e=>r.fullname=e),onChange:t[2]||(t[2]=e=>l.change()),onKeypress:t[3]||(t[3]=e=>l.change())},null,544),[[a.nr,r.fullname]])]),(0,o._)("div",co,[uo,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control edit-input",id:"formGroupExampleInput",placeholder:"Example input placeholder","onUpdate:modelValue":t[4]||(t[4]=e=>r.username=e),onChange:t[5]||(t[5]=e=>l.change()),onKeypress:t[6]||(t[6]=e=>l.change())},null,544),[[a.nr,r.username]])]),(0,o._)("div",ho,[go,(0,o.wy)((0,o._)("input",{type:"email",class:"form-control edit-input",id:"inputEmail4","onUpdate:modelValue":t[7]||(t[7]=e=>r.email=e),onChange:t[8]||(t[8]=e=>l.change()),onKeypress:t[9]||(t[9]=e=>l.change())},null,544),[[a.nr,r.email]])]),(0,o._)("div",po,[mo,(0,o._)("div",vo,[(0,o._)("div",fo,[(0,o._)("div",wo,[(0,o._)("form",null,[yo,(0,o._)("div",_o,[(0,o._)("div",bo,[Io,(0,o._)("div",ko,[(0,o.wy)((0,o._)("input",{type:"password",class:"form-control",id:"inputPassword","onUpdate:modelValue":t[10]||(t[10]=e=>r.password=e)},null,512),[[a.nr,r.password]])])]),(0,o._)("div",Mo,[Po,(0,o._)("div",Co,[(0,o.wy)((0,o._)("input",{type:"password",class:"form-control",id:"inputnewPassword","onUpdate:modelValue":t[11]||(t[11]=e=>r.newPassword=e)},null,512),[[a.nr,r.newPassword]])])]),(0,o._)("div",$o,[xo,(0,o._)("div",Do,[(0,o.wy)((0,o._)("input",{type:"password",class:"form-control",id:"inputnewPassword2","onUpdate:modelValue":t[12]||(t[12]=e=>r.newPasswordAgain=e)},null,512),[[a.nr,r.newPasswordAgain]])])]),""!=r.error?((0,o.wg)(),(0,o.iD)("div",zo,[(0,o._)("div",So,(0,S.zw)(r.error),1)])):(0,o.kq)("",!0)]),(0,o._)("div",Uo,[(0,o._)("button",{type:"button",onClick:t[13]||(t[13]=e=>l.changePassword()),class:"btn"}," Kaydet ")])])])])])]),r.updated?((0,o.wg)(),(0,o.iD)("div",Lo,[(0,o._)("button",{type:"button",class:"btn",onClick:t[14]||(t[14]=e=>l.updateInfo())}," Kaydet ")])):(0,o.kq)("",!0)])])])}(0,o.Cn)();var Eo=s(4028),To=s(2587),Bo=s(9755),Ro=s.n(Bo),Ho={name:"profileEditComp",data(){return{username:"",id:"",email:"",fullname:"",avatarno:0,updated:!1,password:"",newPassword:"",newPasswordAgain:"",submitted:!1,userInfo:{},avatarIds:["1","2","3","4","5","6","7","8","9","10"],error:""}},setup(){return{v$:(0,Eo.ZP)()}},validations(){return{newPassword:{required:To.C1,minLength:(0,To.Ei)(6)},newPasswordAgain:{required:To.C1,sameAsPassword:(0,To.sH)(this.newPassword)}}},mounted(){this.id=Ue().get("userInfo").userId,this.getUserInfo(),this.$store.watch((()=>this.$store.state.userInfoUpdated),(async()=>{this.getUserInfo()})),this.$store.watch((()=>this.$store.state.passwChanged),(async()=>{Ro()("#exampleModal").modal("hide")})),this.$store.watch((()=>this.$store.state.successMsg),(()=>{this.$store.state.successMsg&&(this.successMsg=this.$store.state.successMsg,Ge().fire({icon:"success",title:this.successMsg,showConfirmButton:!1,timer:1500}),setTimeout((()=>{this.$store.state.successMsg=""}),2e3))}))},methods:{change(){this.updated=!0},getUserInfo(){var e=this.id;this.$store.dispatch("setUserInfo",e),setTimeout((()=>{this.userInfo=Ue().get("userInfo"),this.username=this.userInfo.username,this.avatarno=this.userInfo.avatarNo,this.email=this.userInfo.email,this.fullname=this.userInfo.fullName}),1e3)},chooseAvatar(e){this.avatarno=e},updateInfo(){var e={fullname:this.fullname,email:this.email,username:this.username,avatarno:this.avatarno,id:this.userInfo.userId};this.$store.dispatch("setUpdateMyInfo",e)},changePassword(){if(this.password.length<6||this.newPassword.length<6)this.showError("Şifre 6 karakterden kısa olamaz");else if(this.newPassword===this.newPasswordAgain){var e={id:this.id,password:this.password,newPassword:this.newPassword};this.$store.dispatch({type:"setChangePassw",data:e})}else this.showError("Yeni şifreyi iki kez doğru girdiğinizden emin olunuz")},showError(e){this.error=e,setTimeout((()=>{this.error=""}),3500)}}};const No=(0,n.Z)(Ho,[["render",Ao],["__scopeId","data-v-55d2fa64"]]);var Vo=No;(0,o.dD)("data-v-5e3943f5");const Oo={id:"add-poll-in-profile"};function Ko(e,t,s,a,i,r){const l=(0,o.up)("add-poll-comp");return(0,o.wg)(),(0,o.iD)("div",Oo,[(0,o.Wm)(l)])}(0,o.Cn)();var qo={name:"addSurveyProfilePage",components:{"add-poll-comp":Is},data(){return{}},mounted(){}};const Fo=(0,n.Z)(qo,[["render",Ko],["__scopeId","data-v-5e3943f5"]]);var Zo=Fo,jo={name:"pagecontentcomp",data(){return{activity:{id:"activity",value:!1},profile:{id:"profile",value:!0},addPoll:{id:"addPoll",value:!1},polls:[],nopoll:!1,noPollErrMsg:"",expiryDate:"00:01",editpoll:!1,timeLeft:{},showId:"",fullName:"",pollsCount:0}},components:{"profile-edit-view-comp":Vo,"add-survey-comp":Zo},mounted(){this.getMyPolls(),this.$store.watch((()=>this.$store.state.loggedinPolls),(async()=>{this.polls=this.$store.state.loggedinPolls,this.polls.forEach((e=>{this.calculateTime(e.Time,e.id)})),this.pollsCount=this.$store.state.loggedinPolls.length})),this.fullName=Ue().get("userInfo").fullName,this.$store.watch((()=>[this.$store.state.updated,this.$store.state.updatedSurvey]),(async()=>{this.getMyPolls()})),this.$store.watch((()=>this.$store.state.noPollErrMsg),(async()=>{this.nopoll=!0,this.noPollErrMsg=this.$store.state.noPollErrMsg})),this.$store.watch((()=>this.$store.state.userInfoUpdated),(async()=>{setTimeout((()=>{this.fullName=Ue().get("userInfo").fullName?Ue().get("userInfo").fullName:this.fullName}),1e3)})),this.$store.watch((()=>this.$store.state.successMsg),(()=>{this.$store.state.successMsg&&(this.successMsg=this.$store.state.successMsg,Ge().fire({icon:"success",title:this.successMsg,showConfirmButton:!1,timer:1500}),setTimeout((()=>{this.$store.state.successMsg=""}),2e3))}))},methods:{getMyPolls(){this.$store.dispatch({type:"setMyPolls"})},changetab(e){console.log("tab id",e),"activity"===e?(this.activity.value=!0,this.profile.value=!1,this.addPoll.value=!1):"profile"===e?(this.activity.value=!1,this.profile.value=!0,this.addPoll.value=!1):"addPoll"===e&&(this.$store.state.onProfilePage=!0,this.activity.value=!1,this.profile.value=!1,this.addPoll.value=!0)},deleteMyPoll(e){this.$store.dispatch("setDeleteMySurvey",e),this.polls=this.polls.filter((t=>t.id!==e)),this.pollsCount=this.pollsCount-1},editPoll(e){this.editpoll=e,this.expiryDate="00:01"},updateInfo(e){const t=this.expiryDate.split(":"),s=Date.now()+(36e5*t[0]+6e4*t[1]);console.log("Date.now()",Date.now()),console.log("endDate",s),this.$store.dispatch("updateSurvey",{id:e.id,time:s}),this.expiryDate="00:01",this.$router.go()},calculateTime(e,t){const s=new Date(e).getTime(),a=setInterval((()=>{const e=(new Date).getTime(),o=s-e,i=Math.floor(o%864e5/36e5),r=Math.floor(o%36e5/6e4),l=Math.floor(o%6e4/1e3);try{document.getElementById(`TimeLeft${t}`).innerHTML=i.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+":"+r.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+":"+l.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o<0&&(clearInterval(a),document.getElementById(`TimeLeft${t}`).innerHTML="Anket Sonuçlandı")}catch{}}),1e3)},share(e){navigator.clipboard.writeText(e);let t="https://decigo.herokuapp.com/",s=new URL(t),a="https://decigo.herokuapp.com/"+e,o=new URL(a,s);console.log(o.href),navigator.clipboard.writeText(o.href),Ge().fire({icon:"success",title:"Anket linkini kopyaladınız.",showConfirmButton:!1,timer:1500})}}};const Go=(0,n.Z)(jo,[["render",Qa],["__scopeId","data-v-5fbd57a3"]]);var Yo=Go,Wo={name:"ProfilePage",components:{"cover-image-comp":js,"page-content-comp":Yo},data(){return{errorMsg:"",token:""}},mounted(){this.$store.dispatch({type:"setMyPolls"}),this.token=Ue().get("token")?Ue().get("token"):"",""===this.token&&(this.$store.state.errorMsg="Lütfen tekrar giriş yapın.",setTimeout((()=>{Ai.push({name:"Home"})}),2e3)),this.$store.watch((()=>this.$store.state.errorMsg),(()=>{this.$store.state.errorMsg&&(this.errorMsg=this.$store.state.errorMsg,Ge().fire({icon:"error",title:this.errorMsg,showConfirmButton:!1,timer:1500}),setTimeout((()=>{this.$store.state.errorMsg=""}),2e3))}))}};const Qo=(0,n.Z)(Wo,[["render",zs]]);var Jo=Qo;(0,o.dD)("data-v-5286418b");const Xo={class:"layout"},ei={class:"decigo-social-panel",id:"decigo-social-panel"},ti={class:"layout-left-side-bar"},si={class:"layout-social site",id:"decigo-page"},ai={class:"site-header sticky-top"},oi=(0,o._)("hr",null,null,-1),ii={class:"site-content",id:"content"},ri={class:"container-fluid"},li={class:"row"},ni={class:"col-lg-8 col-main"},di={class:"reports-polls-title"},ci=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-clockwise",viewBox:"0 0 16 16"},[(0,o._)("path",{"fill-rule":"evenodd",d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"}),(0,o._)("path",{d:"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"})],-1),ui=[ci],hi={class:"accordion",id:"accordionPool"},gi=["id"],pi=["id"],mi=["data-bs-target","aria-controls"],vi=["id","aria-labelledby"],fi={class:"accordion-body",id:"acc-body"},wi={class:"list-group list-group-flush answers-area"},yi=["id"],_i={class:"rapor-footer"},bi=["onClick"],Ii=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),(0,o._)("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})],-1),ki=[Ii],Mi=["onClick"],Pi=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,o._)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,o._)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1),Ci=[Pi],$i={class:"col-lg-4 rightside"};function xi(e,t,s,a,i,r){const l=(0,o.up)("left-side-bar"),n=(0,o.up)("nav-bar"),d=(0,o.up)("right-side-bar");return(0,o.wg)(),(0,o.iD)("div",Xo,[(0,o._)("div",ei,[(0,o._)("div",ti,[(0,o.Wm)(l)])]),(0,o._)("div",si,[(0,o._)("header",ai,[(0,o.Wm)(n),oi]),(0,o._)("div",ii,[(0,o._)("div",ri,[(0,o._)("div",li,[(0,o._)("div",ni,[(0,o._)("h5",di,[(0,o.Uk)(" Raporlanmış Anketler ("+(0,S.zw)(i.polls.length)+") ",1),(0,o._)("button",{class:"btn",onClick:t[0]||(t[0]=(...e)=>r.getPolls&&r.getPolls(...e))},ui)]),(0,o._)("div",hi,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.polls,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"accordion-item poll",key:t,id:e._id},[(0,o._)("h5",{class:"accordion-header question",id:"heading"+t},[(0,o._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+t,"aria-expanded":"true","aria-controls":"collapse"+t},(0,S.zw)(e.Question),9,mi)],8,pi),(0,o._)("div",{id:"collapse"+t,class:"accordion-collapse collapse","aria-labelledby":"heading"+t,"data-bs-parent":"#accordionPool"},[(0,o._)("div",fi,[(0,o._)("ul",wi,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.Options,(e=>((0,o.wg)(),(0,o.iD)("li",{class:"list-group-item d-flex answers",key:e,id:e._id},(0,S.zw)(e.Text),9,yi)))),128))]),(0,o._)("div",_i,[(0,o._)("button",{type:"button",class:"btn btn-outline-* delete-btn","data-bs-toggle":"tooltip","data-bs-placement":"right",title:"Anketi sil",onClick:t=>r.decideReport(!0,e._id,e.ReportId)},ki,8,bi),(0,o._)("div",{class:"remove-btn","data-bs-toggle":"tooltip","data-bs-placement":"right",title:"Raporu sil",onClick:t=>r.decideReport(!1,e._id,e.ReportId)},Ci,8,Mi)])])],8,vi)],8,gi)))),128))])]),(0,o._)("div",$i,[(0,o.Wm)(d)])])])])])])}(0,o.Cn)();var Di={components:{"left-side-bar":Re,"nav-bar":vt},data(){return{pollCount:20,answersWeight:[40,40,20,100],selectedAnswer:-1,add:!1,polls:[]}},mounted(){this.getPolls(),this.$store.watch((()=>this.$store.state.reportedPools),(()=>{this.polls=this.$store.state.reportedPools,console.log("this.polls",this.polls)})),this.$store.watch((()=>this.$store.state.successMsg),(()=>{this.$store.state.successMsg&&(this.successMsg=this.$store.state.successMsg,Ge().fire({icon:"success",title:this.successMsg,showConfirmButton:!1,timer:1500}),setTimeout((()=>{this.$store.state.successMsg=""}),2e3))}))},methods:{getPolls(){this.$store.dispatch({type:"getReportedPolls"})},decideReport(e,t,s){console.log({decide:e,SurveyId:t,ReportId:s}),this.$store.dispatch("decideReport",{decide:e,SurveyId:t,ReportId:s}),this.polls=this.polls.filter((e=>e._id!==t))}}};const zi=(0,n.Z)(Di,[["render",xi],["__scopeId","data-v-5286418b"]]);var Si=zi;const Ui=[{path:"/",name:"Home",component:xs},{path:"/profilepage",name:"ProfilePage2",component:Jo,meta:{isLoggedIn:!0}},{path:"/admin",name:"AdminPage",component:Si,meta:{adminRoute:!0}},{path:"/:id",name:"HomeWithId",component:xs}],Li=(0,u.p7)({history:(0,u.PO)(),routes:Ui});Li.beforeEach(((e,t,s)=>{const a=Ue().get("userInfo")&&Ue().get("userInfo").isAdmin;console.log("info",Ue().get("userInfo"));const o=Ue().get("userInfo")&&Ue().get("token");e.matched.some((e=>e.meta.adminRoute))&&!a&&(alert("Sadece admin bu sayfaya erişebilir"),s("/")),a&&e.matched.some((e=>!e.meta.adminRoute))&&s("/admin"),!o&&e.matched.some((e=>e.meta.isLoggedIn))&&(alert("Lütfen giriş yaptığınızdan emin olunuz"),s("/")),s()}));var Ai=Li,Ei=s(4709),Ti=s(9669),Bi=s.n(Ti);const Ri="api/survey",Hi=Ue().get("token")?Ue().get("token"):"",Ni={Authorization:`Bearer ${Hi}`},Vi=()=>new Promise(((e,t)=>{Bi().get(Ri).then((t=>{const s=t.data;e(s)})).catch((e=>{t(e)}))})),Oi=()=>{var e=Ri+"/users";return console.log("urlusers",e),new Promise(((t,s)=>{Bi().get(e).then((e=>{const s=e.data;t(s)})).catch((e=>{s(e)}))}))},Ki=e=>Bi().patch(Ri,e,{headers:Ni}),qi=e=>Bi().post(Ri,e,{headers:Ni}),Fi=e=>Bi().post(Ri+"/report",{surveyId:e},{headers:Ni}),Zi=()=>Bi().get(Ri+"/getReporteds",{headers:Ni}),ji=e=>Bi().get(`${Ri}/category/${e}`,{headers:Ni}),Gi="api/auth",Yi=e=>Bi().post(`${Gi}/register`,e),Wi=e=>Bi().post(`${Gi}/login`,e),Qi="api/profile",Ji=Ue().get("token")?Ue().get("token"):"",Xi={Authorization:`Bearer ${Ji}`},er=e=>{var t=Qi+`/mySurveys/${e}`;return new Promise(((e,s)=>{Bi().get(t,{headers:Xi}).then((t=>{const s=t.data;e(s)})).catch((e=>{s(e)}))}))},tr=e=>{var t=Qi+`/mySurveys/${e}`;return new Promise(((e,s)=>{Bi()["delete"](t,{headers:Xi}).then((t=>{const s=t.data;e(s)})).catch((e=>{s(e)}))}))},sr=e=>{console.log("data",e);var t=e.id,s=Qi+`/update/${t}`;return new Promise(((t,a)=>{Bi().put(s,e,{headers:Xi}).then((e=>{const s=e.data;t(s)})).catch((e=>{a(e)}))}))},ar=e=>{var t=Qi+`/${e}`;return console.log("urlinfu",t),new Promise(((e,s)=>{Bi().get(t,{headers:Xi}).then((t=>{const s=t.data;e(s)})).catch((e=>{s(e)}))}))},or=(e,t)=>(console.log("SERVİCE",t),Bi().put(`${Qi}/mySurveys/${e}`,{time:t},{headers:Xi})),ir=(e,t)=>(console.log("url id",e),Bi().put(`${Qi}/changePass/${e}`,t,{headers:Xi})),rr="api/admin",lr=Ue().get("token")?Ue().get("token"):"",nr={Authorization:`Bearer ${lr}`},dr=e=>Bi().post(`${rr}/decidereport`,e,{headers:nr});var cr=Ei.ZP.createStore({state:{polls:[],updated:{},loggedInUserId:"",showRegisterComp:!1,loggedInUserInfo:{},isLoggedIn:!1,newPool:{},users:[],loggedinPolls:[],reportedPool:{},reportedPools:[],decidedReport:{},categorySurveys:[],noPollErrMsg:"",userInfoUpdated:!1,getPollsByCategory:!1,updatedSurvey:!1,passwChanged:!1,onProfilePage:!1,pollAdded:!1,notFoundErrorMsg:"",successMsg:"",errorMsg:"",loginRegisterErrMsg:"",registerErrMsg:"",categoriesList:["Filmler - Kitaplar","Cilt Bakımı","Yemek","Spor","Teknoloji","Sanat","Dekorasyon","Makyaj - Moda","Hayvanlar","Bitkiler","Psikoloji","Sosyoloji","Genel Kültür","Bilim","Müzik"]},mutations:{getPolls(e,t){e.polls=t.data.map((t=>(t.User=e.users.filter((e=>e._id===t.UserId))[0],t))),e.polls=e.polls.filter((e=>e.User)),e.polls.forEach((e=>{e.Options.forEach((e=>{e.Participants=e.Participants.filter((e=>""!=e.UserId))}))})),e.polls.sort(((e,t)=>new Date(t.CreationDate)-new Date(e.CreationDate)))},getJoinPoll(e,t){e.updated=t.data,console.log("pay",t.data)},getRegister(e){e.showRegisterComp=!1,e.loginRegisterErrMsg=""},getUsers(e,t){e.users=t.data},getLogin(e,t){var s=t,a={username:s._doc.Username,userId:s._doc._id,avatarNo:s._doc.AvatarNo,fullName:s._doc.Fullname,email:s._doc.Email,isAdmin:s._doc.IsAdmin};e.loggedInUserInfo=a,e.loggedInUserId=t.userid,e.isLoggedIn=!0,localStorage.setItem("isLoggedIn",!0),Ue().set("userInfo",a),Ue().set("token",s.token),e.loginRegisterErrMsg="",a.isAdmin&&Ai.push("admin")},getCreatePool(e,t){e.pollAdded=!e.pollAdded,e.newPool=t},getMyPolls(e,t){const s=t.data,a=[];s.forEach((t=>{const s=[];var o="",i=0,r=0;t.Options.forEach((e=>{r+=e.Participants.length})),t.Options.forEach((e=>{s.push({suggestion:e.Suggestion,id:e._id,text:e.Text,participants:e.Participants,participantNum:e.ParticipantNum,ratio:r?100*e.Participants.length/r:0})}));var l=[];t.Options.forEach((t=>{t.Participants.length>0&&t.Participants.forEach((t=>{t.UserId===e.loggedInUserId&&l.push(t.UserId)}))})),e.users.forEach((e=>{e._id===t.UserId&&(o=e.Username,i=e.AvatarNo?e.AvatarNo:0)})),a.push({userId:t.UserId,username:o,avatarNo:i,id:t._id,question:t.Question,options:s,category:t.Category,creationDate:t.CreationDate,suggestionNum:t.SuggestionNum,Time:t.Time,totalParticipants:r,isVoted:l.length>0})})),e.loggedinPolls=a},reportSurvey(e,t){e.reportedPool=t,e.successMsg="Anket başarılı bir şekilde raporlandı."},getReportedPolls(e,t){console.log("Payload reported polls",t),e.reportedPools=t.data,console.log("state.reportedPools",e.reportedPools)},decideReport(e,t){e.decidedReport=t,e.successMsg=t.message,console.log("decidedreport",t.message)},getSurveyByCategory(e,t){e.categorySurveys=t.data.map((t=>(t.User=e.users.filter((e=>e._id===t.UserId))[0],t))),e.categorySurveys=e.categorySurveys.filter((e=>e.User)),e.categorySurveys.forEach((e=>{e.Options.forEach((e=>{e.Participants=e.Participants.filter((e=>""!=e.UserId))}))})),e.getPollsByCategory=!e.getPollsByCategory,console.log("state.categorySurveys",e.categorySurveys)},getDeleteMySurvey(e,t){e.successMsg="Anket başarılı bir şekilde silindi.",console.log("silindi",t)},getUpdateMyInfo(e,t){e.successMsg="Kullanıcı bilgileriniz başarılı bir şekilde güncellendi.";var s={username:t.Username,userId:t._id,avatarNo:t.AvatarNo,fullName:t.Fullname,email:t.Email};console.log("update payload",t),Ue().set("userInfo",s),this.state.userInfoUpdated=!this.state.userInfoUpdated},getUserInfo(e,t){console.log("my user infopayload",t);var s={username:t.Username,userId:t._id,avatarNo:t.AvatarNo,fullName:t.Fullname,email:t.Email};e.loggedInUserInfo=Ue().set("userInfo",s)},updateSurvey(e,t){e.successMsg="Anket başarılı bir şekilde güncellendi.",console.log(t),e.updatedSurvey=!0},getChangeMyPassw(e,t){e.successMsg="Şifreniz değiştirildi.",e.passwChanged=!0,console.log(t)}},actions:{setPolls({commit:e}){Vi().then((t=>{e("getPolls",{data:t.data})})).catch((e=>{this.state.errorMsg=e.response.data.error,console.log(e.response.data.error)}))},joinPoll({commit:e},t){Ki(t).then((t=>{console.log("r",t),t.data.success&&e("getJoinPoll",{data:t.data})}),(e=>{this.state.errorMsg=e.response.data.error,ur(e),console.log(e.response.data.error)}))},setRegister({commit:e},t){Yi(t.data).then((t=>{console.log(t),t.data.success&&e("getRegister")}),(e=>{this.state.registerErrMsg=e.response.data.error,console.log("kayıt olunmadı",e.response.data.error),console.log("this.state.registerErrMsg",this.state.registerErrMsg)}))},setUsers({commit:e}){Oi().then((t=>{e("getUsers",{data:t.data})}))},setLogin({commit:e},t){Wi(t.data).then((t=>{console.log("res",t),t.data.success&&e("getLogin",t.data)}),(e=>{this.state.loginRegisterErrMsg=e.response.data.error,console.log("giriş yapılamadı",e.response.data.error)}))},createPool({commit:e},t){t.UserId=Ue().get("userInfo").userId,console.log("createpolldata",t),qi(t).then((t=>{t.data.success&&e("getCreatePool")})).catch((e=>{this.state.errorMsg=e.response.data.error,ur(e),console.log(e.response.data.error)}))},setMyPolls({commit:e}){var t=Ue().get("userInfo").userId;er(t).then((t=>{t.success&&e("getMyPolls",{data:t.data})})).catch((e=>{this.state.noPollErrMsg="Henüz anket oluşturmadın.",ur(e),console.log(e)}))},reportSurvey({commit:e},t){Fi(t).then((t=>{e("reportSurvey",t)})).catch((e=>{this.state.errorMsg=e.response.data.error,ur(e),console.log(e.response.data.error)}))},getReportedPolls({commit:e}){console.log("getReportedPolls"),Zi().then((t=>{console.log("reported polls res",t.data.data),e("getReportedPolls",{data:t.data.data})})).catch((e=>{this.state.errorMsg=e.response.data.error,ur(e),console.log(e.response.data.error)}))},decideReport({commit:e},t){dr(t).then((t=>{e("decideReport",t.data)})).catch((e=>{this.state.errorMsg=e.response.data.error,ur(e),console.log(e.response.data.error)}))},getSurveyByCategory({commit:e},t){ji(t).then((t=>{e("getSurveyByCategory",t.data)})).catch((e=>{this.state.errorMsg=e.response.data.error}))},setDeleteMySurvey({commit:e},t){tr(t).then((t=>{e("getDeleteMySurvey",t.data)})).catch((e=>{this.state.errorMsg=e.response.data.error,ur(e),console.log(e.response.data.error)}))},setUserInfo({commit:e},t){ar(t).then((t=>{e("getUserInfo",t.data)})).catch((e=>{this.state.errorMsg=e.response.data.error,ur(e),console.log(e.response.data.error)}))},setUpdateMyInfo({commit:e},t){sr(t).then((t=>{e("getUpdateMyInfo",t.data)})).catch((e=>{this.state.errorMsg=e.response.data.error,ur(e),console.log(e.response.data.error)}))},updateSurvey({commit:e},t){console.log("updateSurvey data",t),or(t.id,t.time).then((t=>{e("updateSurvey",t.data)})).catch((e=>{this.state.errorMsg=e.response.data.error,ur(e),console.log(e.response.data.error)}))},setChangePassw({commit:e},t){var s={Password:t.data.password,newPassword:t.data.newPassword},a=t.data.id;console.log(t),ir(a,s).then((t=>{e("getChangeMyPassw",t.data)})).catch((e=>{this.state.errorMsg=e.response.data.error,ur(e),console.log(e.response.data.error)}))}},modules:{}});const ur=e=>{try{401==e.response.status&&(console.log("Çıkış'a yönlendiriliyor çünkü",e),Ai.push({name:"Home"}),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userInfo"),(void 0).$store.state.isLoggedIn=!1,Ue().removeItem("userInfo"),Ue().removeItem("token"))}catch(e){console.log(e)}};s(3734);var hr=s(8947),gr=s(1436),pr=s(7810);hr.vI.add(gr.FL8),hr.vI.add(gr.Diu),hr.vI.add(gr.CjD),hr.vI.add(gr.tU6),hr.vI.add(gr.O9n),hr.vI.add(gr.py1),hr.vI.add(gr.Z$V),hr.vI.add(gr.ocQ),hr.vI.add(gr.tU8),hr.vI.add(gr.thV),hr.vI.add(gr.m5T),hr.vI.add(gr.qmU),hr.vI.add(gr.gPx),(0,a.ri)(c).use(Ai).use(cr).component("font-awesome-icon",pr.GN).use(hr.vI).mount("#app")}},t={};function s(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,s),i.exports}s.m=e,function(){var e=[];s.O=function(t,a,o,i){if(!a){var r=1/0;for(c=0;c<e.length;c++){a=e[c][0],o=e[c][1],i=e[c][2];for(var l=!0,n=0;n<a.length;n++)(!1&i||r>=i)&&Object.keys(s.O).every((function(e){return s.O[e](a[n])}))?a.splice(n--,1):(l=!1,i<r&&(r=i));if(l){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[a,o,i]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,i,r=a[0],l=a[1],n=a[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(o in l)s.o(l,o)&&(s.m[o]=l[o]);if(n)var c=n(s)}for(t&&t(a);d<r.length;d++)i=r[d],s.o(e,i)&&e[i]&&e[i][0](),e[r[d]]=0;return s.O(c)},a=self["webpackChunkclient"]=self["webpackChunkclient"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(4172)}));a=s.O(a)})();
//# sourceMappingURL=app.99d2b0ad.js.map